<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>compile-demo</title>
    <script src="../public/js/jquery2.1.4.min.js"></script>
    <script src="../public/js/template.js"></script>
</head>

<body>
<h1>在javascript中存放模板</h1>
<div id="content"></div>
<script>

    setTimeout(function(){
        var source = '<ul>'
                +    '{{each list as value i}}'
                +        '<li>索引 {{i + 1}} ：{{value}}  {{if value}} x{{/if}}</li>'
                +    '{{/each}}'
                + '</ul>';

        var render = template.compile(source);
        var html = render({
            list: ['摄影', '电影', '民谣', '旅行', true,'']
        });

        document.getElementById('content').innerHTML = html;
    },2000)


    //$(function(){
        $("#content").delegate('li','click',function(){
            console.info($(this).index());
        });

        console.info($("#content li").length);
    //})


</script>
</body>
</html>